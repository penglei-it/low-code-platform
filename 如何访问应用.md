# ğŸŒ å¦‚ä½•è®¿é—®åº”ç”¨

## å½“å‰çŠ¶æ€

æ‚¨åœ¨ Cloudflare Tunnel æˆæƒé¡µé¢ï¼Œçœ‹åˆ°åŸŸå `hajimi.com` æ˜¾ç¤º "Invalid nameservers"ã€‚

## ğŸš€ ä¸¤ç§è®¿é—®æ–¹å¼

### æ–¹å¼ä¸€ï¼šå¿«é€Ÿæ¨¡å¼ï¼ˆæ¨èï¼Œæ— éœ€é…ç½®åŸŸåï¼‰

**å¦‚æœæ‚¨æƒ³å¿«é€Ÿè®¿é—®ï¼Œä¸éœ€è¦é…ç½®åŸŸåï¼š**

1. **å…³é—­å½“å‰æˆæƒé¡µé¢**ï¼ˆç‚¹å‡»å³ä¸Šè§’ X æˆ–è¿”å›ï¼‰

2. **ä½¿ç”¨éšæœºåŸŸåæ¨¡å¼**ï¼Œè¿è¡Œï¼š
   ```bash
   ä¸€é”®å¯åŠ¨CloudflareTunnel.bat
   ```
   é€‰æ‹©é€‰é¡¹ `1`ï¼ˆå¿«é€Ÿæ¨¡å¼ï¼‰

3. **æˆ–è€…æ‰‹åŠ¨è¿è¡Œ**ï¼š
   ```bash
   # å‰ç«¯éš§é“
   cloudflared tunnel --url http://localhost:4173
   
   # åç«¯éš§é“ï¼ˆæ–°ç»ˆç«¯ï¼‰
   cloudflared tunnel --url http://localhost:3001
   ```

**ä¼šç«‹å³è·å¾—è®¿é—®åœ°å€**ï¼Œæ ¼å¼ç±»ä¼¼ï¼š
```
https://xxx-xxx-xxx.trycloudflare.com
```

### æ–¹å¼äºŒï¼šä½¿ç”¨æ‚¨çš„åŸŸå hajimi.com

**å¦‚æœæ‚¨æƒ³ä½¿ç”¨è‡ªå·±çš„åŸŸåï¼š**

#### æ­¥éª¤ 1ï¼šå®Œæˆæˆæƒ

1. **ç‚¹å‡»åŸŸå `hajimi.com`** ç»§ç»­ï¼ˆå³ä½¿æ˜¾ç¤º Invalid nameservers ä¹Ÿå¯ä»¥é€‰æ‹©ï¼‰

2. **æˆæƒå®Œæˆ**åï¼Œå›åˆ°å‘½ä»¤è¡Œ

#### æ­¥éª¤ 2ï¼šé…ç½®åç§°æœåŠ¡å™¨ï¼ˆä¿®å¤ Invalid nameserversï¼‰

1. **ç™»å½• Cloudflare Dashboard**ï¼šhttps://dash.cloudflare.com
2. **é€‰æ‹©åŸŸå `hajimi.com`**
3. **æŸ¥çœ‹ Cloudflare æä¾›çš„åç§°æœåŠ¡å™¨**ï¼ˆé€šå¸¸åœ¨ DNS è®¾ç½®é¡µé¢é¡¶éƒ¨ï¼‰
4. **åˆ°æ‚¨çš„åŸŸåæ³¨å†Œå•†**ï¼ˆè´­ä¹° hajimi.com çš„åœ°æ–¹ï¼‰ï¼š
   - æ‰¾åˆ° DNS è®¾ç½®
   - ä¿®æ”¹åç§°æœåŠ¡å™¨ä¸º Cloudflare æä¾›çš„åç§°æœåŠ¡å™¨
   - ä¿å­˜å¹¶ç­‰å¾…ç”Ÿæ•ˆï¼ˆå¯èƒ½éœ€è¦å‡ å°æ—¶ï¼‰

#### æ­¥éª¤ 3ï¼šåˆ›å»ºå’Œé…ç½®éš§é“

```bash
# 1. åˆ›å»ºéš§é“
cloudflared tunnel create low-code-platform

# 2. æŸ¥çœ‹éš§é“ ID
cloudflared tunnel list

# 3. åˆ›å»ºé…ç½®æ–‡ä»¶
# æ–‡ä»¶ä½ç½®ï¼š%USERPROFILE%\.cloudflared\config.yml
```

é…ç½®æ–‡ä»¶å†…å®¹ï¼š
```yaml
tunnel: low-code-platform
credentials-file: C:\Users\<æ‚¨çš„ç”¨æˆ·å>\.cloudflared\<tunnel-id>.json

ingress:
  # å‰ç«¯ - ä¸»åŸŸå
  - hostname: hajimi.com
    service: http://localhost:4173
  
  # åç«¯ API - å­åŸŸå
  - hostname: api.hajimi.com
    service: http://localhost:3001
  
  # é»˜è®¤è§„åˆ™ï¼ˆå¿…é¡»æœ€åï¼‰
  - service: http_status:404
```

#### æ­¥éª¤ 4ï¼šé…ç½® DNS

åœ¨ Cloudflare Dashboard â†’ DNS â†’ Recordsï¼Œæ·»åŠ ï¼š

| ç±»å‹  | åç§° | ç›®æ ‡                    | ä»£ç†çŠ¶æ€ |
|-------|------|-------------------------|----------|
| CNAME | @    | `<tunnel-id>.cfargotunnel.com` | å·²ä»£ç†   |
| CNAME | api  | `<tunnel-id>.cfargotunnel.com` | å·²ä»£ç†   |

#### æ­¥éª¤ 5ï¼šè¿è¡Œéš§é“

```bash
cloudflared tunnel run low-code-platform
```

ç„¶åè®¿é—®ï¼š
- å‰ç«¯ï¼š`https://hajimi.com`
- åç«¯ï¼š`https://api.hajimi.com/api/health`

---

## âš¡ å¿«é€Ÿè®¿é—®ï¼ˆæ¨èï¼‰

**å¦‚æœåªæ˜¯æƒ³å¿«é€Ÿè®¿é—®ï¼Œå»ºè®®ä½¿ç”¨æ–¹å¼ä¸€ï¼ˆéšæœºåŸŸåï¼‰**ï¼š

è¿è¡Œï¼š
```bash
ä¸€é”®å¯åŠ¨CloudflareTunnel.bat
```

é€‰æ‹© `1`ï¼Œç«‹å³è·å¾—è®¿é—®åœ°å€ï¼Œæ— éœ€ä»»ä½•é…ç½®ï¼

---

## ğŸ“ å½“å‰å¯ä»¥è®¿é—®çš„åœ°å€

**æœ¬åœ°è®¿é—®**ï¼ˆç°åœ¨å°±å¯ä»¥ç”¨ï¼‰ï¼š
- å‰ç«¯ï¼šhttp://localhost:4173
- åç«¯ï¼šhttp://localhost:3001/api/health

**äº’è”ç½‘è®¿é—®**ï¼š
- æŒ‰ç…§ä¸Šé¢çš„æ–¹å¼ä¸€æˆ–æ–¹å¼äºŒè·å–åœ°å€

